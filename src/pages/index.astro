---
import BaseLayout from '../layouts/BaseLayout.astro';
const BASE = Astro.site.pathname ?? '/';
const title = 'The Christmas Tower â€“ Migdal Eder';
const description = 'A timeless Christmas story set at the Tower of the Flock (Migdal Eder)â€”from Jacob and Ruth to David and the birth of Christ.';
const permalink = Astro.site.href;
---

<BaseLayout title={title} description={description} permalink={permalink}>
  <section class="hero">
    <img class="hero-image" src={`${BASE}images/NightTower.webp`} alt="The Christmas Tower - Migdal Eder" />
    <h1 class="hero-title">The Christmas Tower</h1>
    <p class="hero-tagline">A story of promise and fulfillment at <em>Migdal Eder</em> â€” the Tower of the Flock.</p>
    <p class="hero-intro">
      Journey through Scriptureâ€™s unfolding storyâ€”from Jacobâ€™s sorrow and Ruthâ€™s redemption, to Davidâ€™s anointing,
      the Levitical shepherds, and the night Christ was born under the Towerâ€™s quiet watch. This site will soon include
      a <strong>Coloring Book</strong> for families and a <strong>Family Bible Study</strong> to explore each chapter together.
    </p>
    <div class="cta-row">
      <a class="btn primary" href={`${BASE}blog/table-of-contents`}>ðŸ“– Start Reading</a>
    </div>
  </section>

  <section class="grid">
    <article class="card">
      <h3>About the Book</h3>
      <p>
        Set in the fields around Bethlehem Ephrathah, the Towerâ€™s stones have watched sorrow turn to hope, promises
        kept, and the arrival of the Lamb of God. Each chapter invites readers to see Godâ€™s perfect plan unfolding.
      </p>
      <a class="card-link" href="https://www.amazon.com/dp/B0FWX3T8SM">The Christmas Tower on Amazon</a>
    </article>

    <article class="card">
      <h3>Coloring Book <span class="badge">Coming Soon</span></h3>
      <p>
        Printable line-art scenes from each chapterâ€”perfect for kids to color while listening to the story.
      </p>
      <a class="card-link disabled" aria-disabled="true">Available soon</a>
    </article>

    <article class="card">
      <h3>Family Bible Study <span class="badge">Coming Soon</span></h3>
      <p>
        Short, family-friendly studies for every chapter: read, reflect, and respond together with Scripture in full.
      </p>
      <a class="card-link disabled" aria-disabled="true">Available soon</a>
    </article>
  </section>
</BaseLayout>

<style>
  :root {
    --radius-lg: 16px;
    --shadow-1: 0 2px 10px rgba(0,0,0,.08);
    --shadow-2: 0 8px 24px rgba(0,0,0,.10);
    --ring: 0 0 0 3px color-mix(in srgb, var(--primary-color) 30%, transparent);
  }

  /* HERO */
  .hero {
    max-width: 980px;
    margin: 2.5rem auto 2rem;
    padding: 0 1rem;
    text-align: center;
  }
  .hero-image {
    width: 100%;
    max-width: 820px;
    height: auto;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-1);
    object-fit: cover;
    margin: 0 auto 1.25rem;
    display: block;
  }
  .hero-title {
    font-family: var(--font-family-serif);
    font-weight: 800;
    font-size: clamp(2rem, 3vw, 2.75rem);
    margin: .25rem 0 .25rem;
    color: var(--text-main);
  }
  .hero-tagline {
    font-family: var(--font-family-sans);
    color: var(--text-secondary);
    margin: 0 0 .5rem;
  }
  .hero-intro {
    font-size: 1.1rem;
    line-height: 1.7;
    max-width: 70ch;
    margin: 0 auto 1rem;
    color: var(--text-main);
  }
  .cta-row {
    display: inline-flex;
    gap: .75rem;
    margin: .75rem 0 0;
    flex-wrap: wrap;
    justify-content: center;
  }
  .btn {
    display: inline-block;
    padding: .7rem 1rem;
    border-radius: 999px;
    border: 1px solid color-mix(in srgb, var(--primary-color) 35%, var(--text-secondary) 10%);
    background: color-mix(in srgb, var(--background-body) 92%, var(--primary-color) 8%);
    color: var(--text-main);
    text-decoration: none;
    transition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
    box-shadow: var(--shadow-1);
  }
  .btn:hover { transform: translateY(-2px); box-shadow: var(--shadow-2); }
  .btn.primary {
    background: color-mix(in srgb, var(--primary-color) 20%, var(--background-body) 80%);
    border-color: var(--primary-color);
  }

  /* GRID */
  .grid {
    max-width: 1100px;
    margin: 1.5rem auto 3rem;
    padding: 0 1rem;
    display: grid;
    gap: 1.25rem;
    grid-template-columns: repeat(12, 1fr);
  }
  .card {
    grid-column: span 12;
    background: color-mix(in srgb, var(--background-body) 96%, var(--primary-color) 4%);
    border: 1px solid color-mix(in srgb, var(--primary-color) 20%, transparent);
    border-radius: var(--radius-lg);
    padding: 1.25rem 1.25rem 1rem;
    box-shadow: var(--shadow-1);
  }
  .card h3 {
    font-family: var(--font-family-sans);
    font-weight: 700;
    margin: 0 0 .4rem;
    color: var(--text-main);
  }
  .badge {
    font-size: .8rem;
    font-weight: 600;
    padding: .1rem .5rem;
    border-radius: 999px;
    background: color-mix(in srgb, var(--primary-color) 20%, var(--background-body) 80%);
    color: var(--text-main);
    margin-left: .35rem;
  }
  .card p {
    color: var(--text-secondary);
    margin: 0 0 .5rem;
    line-height: 1.6;
  }
  .card-link {
    display: inline-block;
    font-weight: 600;
    text-decoration: none;
    color: var(--primary-color);
    padding: .25rem 0;
    border-bottom: 1px dashed color-mix(in srgb, var(--primary-color) 60%, transparent);
    transition: color .12s ease, border-color .12s ease, transform .12s ease;
  }
  .card-link:hover {
    color: color-mix(in srgb, var(--primary-color) 80%, var(--text-main) 20%);
    border-color: color-mix(in srgb, var(--primary-color) 80%, transparent);
    transform: translateY(-1px);
    box-shadow: var(--ring);
  }
  .card-link.disabled { opacity: .6; pointer-events: none; }

  /* Responsive layout: 1 â†’ 2 â†’ 3 columns */
  @media (min-width: 700px) {
    .card { grid-column: span 6; }
  }
  @media (min-width: 1024px) {
    .card { grid-column: span 4; }
  }
</style>
